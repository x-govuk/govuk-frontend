{"version":3,"file":"normalise-dataset.js","sources":["../../../src/govuk/common/normalise-dataset.mjs"],"sourcesContent":["/**\n * Normalise string\n *\n * 'If it looks like a duck, and it quacks like a duckâ€¦' ðŸ¦†\n *\n * If the passed value looks like a boolean or a number, convert it to a boolean\n * or number.\n *\n * Designed to be used to convert config passed via data attributes (which are\n * always strings) into something sensible.\n *\n * @deprecated Will be made private in v5.0\n * @param {string} value - The value to normalise\n * @returns {string | boolean | number | undefined} Normalised data\n */\nexport function normaliseString (value) {\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  var trimmedValue = value.trim()\n\n  if (trimmedValue === 'true') {\n    return true\n  }\n\n  if (trimmedValue === 'false') {\n    return false\n  }\n\n  // Empty / whitespace-only strings are considered finite so we need to check\n  // the length of the trimmed string as well\n  if (trimmedValue.length > 0 && isFinite(Number(trimmedValue))) {\n    return Number(trimmedValue)\n  }\n\n  return value\n}\n\n/**\n * Normalise dataset\n *\n * Loop over an object and normalise each value using normaliseData function\n *\n * @deprecated Will be made private in v5.0\n * @param {DOMStringMap} dataset - HTML element dataset\n * @returns {{ [key: string]: unknown }} Normalised dataset\n */\nexport function normaliseDataset (dataset) {\n  /** @type {{ [key: string]: unknown }} */\n  var out = {}\n\n  for (var key in dataset) {\n    out[key] = normaliseString(dataset[key])\n  }\n\n  return out\n}\n"],"names":[],"mappings":";;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA,EAAO,SAAS,eAAe,EAAE,KAAK,EAAE;EACxC,EAAE,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;EACjC,IAAI,OAAO,KAAK;EAChB,GAAG;;EAEH,EAAE,IAAI,YAAY,GAAG,KAAK,CAAC,IAAI,GAAE;;EAEjC,EAAE,IAAI,YAAY,KAAK,MAAM,EAAE;EAC/B,IAAI,OAAO,IAAI;EACf,GAAG;;EAEH,EAAE,IAAI,YAAY,KAAK,OAAO,EAAE;EAChC,IAAI,OAAO,KAAK;EAChB,GAAG;;EAEH;EACA;EACA,EAAE,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,EAAE;EACjE,IAAI,OAAO,MAAM,CAAC,YAAY,CAAC;EAC/B,GAAG;;EAEH,EAAE,OAAO,KAAK;EACd,CAAC;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA,EAAO,SAAS,gBAAgB,EAAE,OAAO,EAAE;EAC3C;EACA,EAAE,IAAI,GAAG,GAAG,GAAE;;EAEd,EAAE,KAAK,IAAI,GAAG,IAAI,OAAO,EAAE;EAC3B,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,EAAC;EAC5C,GAAG;;EAEH,EAAE,OAAO,GAAG;EACZ,CAAC;;;;;;;;;;;;;"}